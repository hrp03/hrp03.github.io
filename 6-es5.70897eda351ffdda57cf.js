function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{bPIm:function(t,e,n){"use strict";n.r(e);var i=n("8Y7J"),a=function t(){_classCallCheck(this,t)},o=n("pMnS"),r=function(){function t(){_classCallCheck(this,t),this.context=null,this.width=0,this.height=0,this.perm=[],this.playing=!0,this.player={x:0,y:0,rotate:0,icon:null,draw:null,speed:{x:0,y:0,rotation:0}},this.t=0,this.speed=0,this.keys={ArrowUp:0,ArrowDown:0,ArrowLeft:0,ArrowRight:0}}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.init()}},{key:"init",value:function(t){for(this.width=window.innerWidth,this.height=window.innerHeight,this.context=this.canvas.nativeElement.getContext("2d"),this.canvas.nativeElement.width=this.width,this.canvas.nativeElement.height=this.height;this.perm.length<255;){for(var e=0;this.perm.includes(e=Math.floor(255*Math.random())););this.perm.push(e)}this.initPlayer(),this.loop()}},{key:"lerp",value:function(t,e,n){return t+(e-t)*(1-Math.cos(n*Math.PI))/2}},{key:"noise",value:function(t){return t=.01*t%255,this.lerp(this.perm[Math.floor(t)],this.perm[Math.ceil(t)],t-Math.floor(t))}},{key:"initPlayer",value:function(){var t=this;this.player.x=this.width/2,this.player.y=0,this.player.rotation=0,this.player.speed.y=0,this.player.icon=new Image,this.player.icon.src="assets/images/icon/bike-bw.png",this.player.draw=function(){var e=t.height-.5*t.noise(t.t+t.player.x)-32,n=t.height-.5*t.noise(t.t+5+t.player.x)-32,i=0;e>t.player.y?t.player.speed.y+=.1:(t.player.speed.y-=t.player.y-e,t.player.y=e,i=1),(!t.playing||i&&Math.abs(t.player.rotation)>.5*Math.PI)&&(t.playing=!1,t.player.speed.rotation=5,t.keys.ArrowUp=1,t.player.x-=2.5*t.player.speed);var a=Math.atan2(n-t.player.y,t.player.x+5-t.player.x);t.player.y+=t.player.speed.y,i&&t.playing&&(t.player.rotation-=.5*(t.player.rotation-a),t.player.speed.rotation=t.player.speed.rotation-(a-t.player.rotation)),t.player.speed.rotation+=.05*(t.keys.ArrowLeft-t.keys.ArrowRight),t.player.rotation-=.1*t.player.speed.rotation,t.player.rotation>Math.PI&&(t.player.rotation=-Math.PI),t.player.rotation<-Math.PI&&(t.player.rotation=Math.PI),t.context.save(),t.context.translate(t.player.x,t.player.y),t.context.rotate(t.player.rotation),t.context.drawImage(t.player.icon,-32,-32,64,64),t.context.restore()}}},{key:"loop",value:function(){this.speed-=.1*(this.speed-(this.keys.ArrowUp-this.keys.ArrowDown)),this.t+=10*this.speed,this.context.fillStyle="#ff0000",this.context.fillRect(0,0,this.width,this.height),this.context.fillStyle="black",this.context.beginPath(),this.context.moveTo(0,this.height);for(var t=0;t<this.width;t++)this.context.lineTo(t,this.height-.5*this.noise(this.t+t));this.context.lineTo(this.width,this.height),this.context.fill(),this.player.draw(),requestAnimationFrame(this.loop.bind(this))}},{key:"keydown",value:function(t){console.log("down"),this.keys[t.key]=1}},{key:"keyup",value:function(t){console.log("up"),this.keys[t.key]=0}}]),t}(),l=i.mb({encapsulation:0,styles:[["canvas[_ngcontent-%COMP%]{height:100%;width:100%;position:fixed}"]],data:{}});function s(t){return i.Fb(0,[i.Cb(671088640,1,{canvas:0}),(t()(),i.ob(1,0,[[1,0],["canvas",1]],null,0,"canvas",[],null,[["window","resize"],["window","keydown"],["window","keyup"]],(function(t,e,n){var i=!0,a=t.component;return"window:resize"===e&&(i=!1!==a.init(n)&&i),"window:keydown"===e&&(i=!1!==a.keydown(n)&&i),"window:keyup"===e&&(i=!1!==a.keyup(n)&&i),i}),null,null))],null,null)}var h=i.kb("app-bike-on-hill",r,(function(t){return i.Fb(0,[(t()(),i.ob(0,0,null,null,1,"app-bike-on-hill",[],null,null,null,s,l)),i.nb(1,4308992,null,0,r,[],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),p=n("SVse"),y=n("iInd"),c=function t(){_classCallCheck(this,t)};n.d(e,"GamesModuleNgFactory",(function(){return u}));var u=i.lb(a,[],(function(t){return i.xb([i.yb(512,i.j,i.W,[[8,[o.a,h]],[3,i.j],i.v]),i.yb(4608,p.l,p.k,[i.s,[2,p.t]]),i.yb(1073742336,p.b,p.b,[]),i.yb(1073742336,y.m,y.m,[[2,y.r],[2,y.k]]),i.yb(1073742336,c,c,[]),i.yb(1073742336,a,a,[]),i.yb(1024,y.i,(function(){return[[{path:"bike-on-hill",component:r}]]}),[])])}))}}]);