(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{bPIm:function(t,i,e){"use strict";e.r(i);var s=e("8Y7J");class h{}var n=e("pMnS");class o{constructor(){this.context=null,this.width=0,this.height=0,this.perm=[],this.playing=!0,this.player={x:0,y:0,rotate:0,icon:null,draw:null,speed:{x:0,y:0,rotation:0}},this.t=0,this.speed=0,this.keys={ArrowUp:0,ArrowDown:0,ArrowLeft:0,ArrowRight:0}}ngOnInit(){}ngAfterViewInit(){this.init()}init(t){for(this.width=window.innerWidth,this.height=window.innerHeight,this.context=this.canvas.nativeElement.getContext("2d"),this.canvas.nativeElement.width=this.width,this.canvas.nativeElement.height=this.height;this.perm.length<255;){let t=0;for(;this.perm.includes(t=Math.floor(255*Math.random())););this.perm.push(t)}this.initPlayer(),this.loop()}lerp(t,i,e){return t+(i-t)*(1-Math.cos(e*Math.PI))/2}noise(t){return t=.01*t%255,this.lerp(this.perm[Math.floor(t)],this.perm[Math.ceil(t)],t-Math.floor(t))}initPlayer(){this.player.x=this.width/2,this.player.y=0,this.player.rotation=0,this.player.speed.y=0,this.player.icon=new Image,this.player.icon.src="assets/images/icon/bike-bw.png",this.player.draw=()=>{var t=this.height-.5*this.noise(this.t+this.player.x)-32,i=this.height-.5*this.noise(this.t+5+this.player.x)-32,e=0;t>this.player.y?this.player.speed.y+=.1:(this.player.speed.y-=this.player.y-t,this.player.y=t,e=1),(!this.playing||e&&Math.abs(this.player.rotation)>.5*Math.PI)&&(this.playing=!1,this.player.speed.rotation=5,this.keys.ArrowUp=1,this.player.x-=2.5*this.player.speed);var s=Math.atan2(i-this.player.y,this.player.x+5-this.player.x);this.player.y+=this.player.speed.y,e&&this.playing&&(this.player.rotation-=.5*(this.player.rotation-s),this.player.speed.rotation=this.player.speed.rotation-(s-this.player.rotation)),this.player.speed.rotation+=.05*(this.keys.ArrowLeft-this.keys.ArrowRight),this.player.rotation-=.1*this.player.speed.rotation,this.player.rotation>Math.PI&&(this.player.rotation=-Math.PI),this.player.rotation<-Math.PI&&(this.player.rotation=Math.PI),this.context.save(),this.context.translate(this.player.x,this.player.y),this.context.rotate(this.player.rotation),this.context.drawImage(this.player.icon,-32,-32,64,64),this.context.restore()}}loop(){this.speed-=.1*(this.speed-(this.keys.ArrowUp-this.keys.ArrowDown)),this.t+=10*this.speed,this.context.fillStyle="#ff0000",this.context.fillRect(0,0,this.width,this.height),this.context.fillStyle="black",this.context.beginPath(),this.context.moveTo(0,this.height);for(let t=0;t<this.width;t++)this.context.lineTo(t,this.height-.5*this.noise(this.t+t));this.context.lineTo(this.width,this.height),this.context.fill(),this.player.draw(),requestAnimationFrame(this.loop.bind(this))}keydown(t){console.log("down"),this.keys[t.key]=1}keyup(t){console.log("up"),this.keys[t.key]=0}}var r=s.mb({encapsulation:0,styles:[["canvas[_ngcontent-%COMP%]{height:100%;width:100%;position:fixed}"]],data:{}});function a(t){return s.Fb(0,[s.Cb(671088640,1,{canvas:0}),(t()(),s.ob(1,0,[[1,0],["canvas",1]],null,0,"canvas",[],null,[["window","resize"],["window","keydown"],["window","keyup"]],(function(t,i,e){var s=!0,h=t.component;return"window:resize"===i&&(s=!1!==h.init(e)&&s),"window:keydown"===i&&(s=!1!==h.keydown(e)&&s),"window:keyup"===i&&(s=!1!==h.keyup(e)&&s),s}),null,null))],null,null)}function l(t){return s.Fb(0,[(t()(),s.ob(0,0,null,null,1,"app-bike-on-hill",[],null,null,null,a,r)),s.nb(1,4308992,null,0,o,[],null,null)],(function(t,i){t(i,1,0)}),null)}var p=s.kb("app-bike-on-hill",o,l,{},{},[]),y=e("SVse"),c=e("iInd");class w{}e.d(i,"GamesModuleNgFactory",(function(){return d}));var d=s.lb(h,[],(function(t){return s.xb([s.yb(512,s.j,s.W,[[8,[n.a,p]],[3,s.j],s.v]),s.yb(4608,y.l,y.k,[s.s,[2,y.t]]),s.yb(1073742336,y.b,y.b,[]),s.yb(1073742336,c.m,c.m,[[2,c.r],[2,c.k]]),s.yb(1073742336,w,w,[]),s.yb(1073742336,h,h,[]),s.yb(1024,c.i,(function(){return[[{path:"bike-on-hill",component:o}]]}),[])])}))}}]);